<style>
    .spacer-input,
    .spacer-output {
        display: block;
        width: 100%;
        height: 350px;
        margin: 0 auto;
    }

    .spacer-number {
        width: 50px;
    }
</style>

<title>DNA spacing tool</title>
<h1>DNA spacing tools</h1>

<p>
    This simple tool will space your DNA/RNA sequences; and other text. It will remove any extra white spacing yet conserve new lines. The sequence will be returned with a single space between the designated amount of characters.
</p>
<p>
    This tool does not check what characters you use, and can be used to space any chunk of text.
</p>
<p>
    The text area is prefilled with an example sequence:
</p>

<div class="data-input">Input DNA Sequence here:</div>
<textarea type="text" class="spacer-input" title="Paste a DNA sequence to space.">
    ATGC   ATGTCTAAGAT    TGCATGCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATGTATGCATGTCTCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATGTATGCATGTCTAAGTAATGCATGCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATGCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCAGCTAAGTA AT  

            AT    GC   ATGT CTAAGTAATGCATGCTAAGTGCATGTCTAATGTCTAAGTAATGCATGCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATGTATGCATGTCTTGCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATGTATGCATGTCTAAGTAATGCATGCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATGT    


    ATGCATG TCT ATGTC    TGCATGCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATGTATGCATGTCTCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATGTATGCATGTCTAAGTAATGCATGCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATGCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCA

ATG    TGC      ATGCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATG    TGCATGCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATGTATGCATGTCTCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATGTATGCATGTCTAAGTAATGCATGCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATGCTAAGTA ATGCATGT    TGCATGCTAAGTA ATGCATGTCTAAGTA   TCTAAGTAATGCATGTATGCATGTCTCTAAGTA ATGCATGTCTAAGT

</textarea>
<label class="spacer-uppercase-label">
    Uppercase:
    <input type="checkbox" class="spacer-uppercase" checked="checked">
</label>
<!-- <label class="spacer-uppercase-label">
    Dirty:
    <input type="checkbox" class="dirty-text" checked="">
</label> -->
<label class="spacer-uppercase-label">
    Add a space every n:
    <input type="number" class="spacer-number" value="3">
</label>
<button class="spacer-button float-right" type="button">Format DNA sequences</button>

<br>
<br>

<div class="data-input">Formatted DNA Sequence outputs here:</div>
<textarea type="text" class="spacer-output" title="Formatted sequence will appear here."></textarea>


<script>
    const spacerButton = document.querySelector(".spacer-button");

    spacerButton.addEventListener("click", () => {
        const dnaInput = document.querySelector(".spacer-input").value;
        const uppercaseInput = document.querySelector(".spacer-uppercase").checked;
        const spacerNumber = parseInt(document.querySelector(".spacer-number").value);

        function spaceStr(str, n) {
            document.querySelector(".spacer-output").value = "";
            let lines = str.split("\n"); // Split into an array at the new lines; new lines become empty strings

            lines = lines.filter(l => l !== ""); // Remove new lines empty strings
            lines = lines.map(l => l.split(" ").join("")); // Split into an array of characters; join with no spacing
            console.log(lines);
            lines = lines.map(l =>
                l.split("").reduce((a, e, i) => a + e + (i % n === (n - 1) ? " " : ""), "")
            ).join("\n\n");
            console.log(lines);

            if (uppercaseInput !== true) {
                document.querySelector(".spacer-output").value += lines;
            } else {
                document.querySelector(".spacer-output").value += lines.toUpperCase();
            }
        }
        spaceStr(dnaInput, spacerNumber);
    });
</script>

<!-- ATGCATGTCTAAGTA -->